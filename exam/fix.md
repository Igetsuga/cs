# Вопрос 47

У тебя в классе нет конструктора по умолчанию, но тем не менее ты можешь в строке 21 инициализировать объкты, компилятор сам создас конструктор по умолчанию(ТОЛЬКО ЕСЛИ НЕ БУДЕТ НИКАКИХ ДРУГИХ КОНСТРУКТОРОВ). Как только появится появится конструктор в стороке 9 (конструктора по умолчанию все еще нет), строка 21 - ошибка. Если раскоментировать строку 8, все будет снова нормально. Единственной с ней и без вывод будет разный, потому что работают разные конструкторы по умолчанию, снача от компилятора, потом твой.

```c++
#include <iostream>
using namespace std;

class myclass {
    int x;
public:
     // перегрузка конструктора двумя способами
    // myclass () { x = 0; } // default constructor // строка 8
    // myclass (int n) { x = n; } // прямая инициализация // строка 9
    
    
    const int& getx() const { return x; }
    
    void setx (const int &n) { x = n; }
};

int main() {
    
    myclass *p;
    // myclass ob(10); // инициализация отдельного объекта
    
    p = new myclass[10]; // строка 21
    if ( !p ) {
        std::cout << "Ошибка инициализации\n";
        return 1;
    }
    int i;
    // инициализация всех элементов значением ob
    // for ( i = 0; i < 10; i++ ) p[i] = ob;
    
    for ( i = 0; i < 10; i++ ) {
        std::cout << "p[" << i << "] = " << p[i].getx();
        std::cout << '\n';
    }
    return 0;
}
```

Вывод: 

    p[0] = -842150451
    p[1] = -842150451
    p[2] = -842150451
    p[3] = -842150451
    p[4] = -842150451
    p[5] = -842150451
    p[6] = -842150451
    p[7] = -842150451
    p[8] = -842150451
    p[9] = -842150451

Второй вариант. 
```c++
#include <iostream>
using namespace std;

class myclass {
    int x;
public:
     // перегрузка конструктора двумя способами
    myclass () { x = 0; } // default constructor // строка 8
    // myclass (int n) { x = n; } // прямая инициализация // строка 9
    
    
    const int& getx() const { return x; }
    
    void setx (const int &n) { x = n; }
};

int main() {
    
    myclass *p;
    // myclass ob(10); // инициализация отдельного объекта
    
    p = new myclass[10]; // строка 21
    if ( !p ) {
        std::cout << "Ошибка инициализации\n";
        return 1;
    }
    int i;
    // инициализация всех элементов значением ob
    // for ( i = 0; i < 10; i++ ) p[i] = ob;
    
    for ( i = 0; i < 10; i++ ) {
        std::cout << "p[" << i << "] = " << p[i].getx();
        std::cout << '\n';
    }
    return 0;
}
```
Вывод: 

    p[0] = 0
    p[1] = 0
    p[2] = 0
    p[3] = 0
    p[4] = 0
    p[5] = 0
    p[6] = 0
    p[7] = 0
    p[8] = 0
    p[9] = 0